[tox]
envlist = lint, coverage

[testenv]
commands = pytest tests/ {posargs}
deps =
    pytest
    mock
    -rrequirements.txt

[testenv:lint]
commands = flake8 --ignore E501,E722 .
deps = flake8

[testenv:coverage]
commands =
    pytest --cov-report=term-missing --cov=aws_google_auth tests/
    coverage lcov
deps =
    {[testenv]deps}
    pytest-cov
